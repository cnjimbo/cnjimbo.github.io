import{j as s,b as i,c as a,a7 as n}from"./chunks/framework.B0f4rbfy.js";const c=JSON.parse('{"title":"è¯‘ï¼šä½¿ç”¨ç°ä»£çš„ Node.js æ„å»ºç®€å•çš„CLIå·¥å…·","description":"åªä½¿ç”¨ Node.js çš„æ ‡å‡†åº“ï¼Œä¸å®‰è£…ä»»ä½•å¤–éƒ¨ä¾èµ–ï¼Œå†™ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·","frontmatter":{"sidebar":false,"description":"åªä½¿ç”¨ Node.js çš„æ ‡å‡†åº“ï¼Œä¸å®‰è£…ä»»ä½•å¤–éƒ¨ä¾èµ–ï¼Œå†™ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·"},"headers":[],"relativePath":"bigWeb/node/standard-node-cli.md","filePath":"bigWeb/node/standard-node-cli.md","lastUpdated":1716803856000}'),p={name:"bigWeb/node/standard-node-cli.md"},l=n(`<h1 id="è¯‘-ä½¿ç”¨ç°ä»£çš„-node-js-æ„å»ºç®€å•çš„cliå·¥å…·" tabindex="-1">è¯‘ï¼šä½¿ç”¨ç°ä»£çš„ Node.js æ„å»ºç®€å•çš„CLIå·¥å…· <a class="header-anchor" href="#è¯‘-ä½¿ç”¨ç°ä»£çš„-node-js-æ„å»ºç®€å•çš„cliå·¥å…·" aria-label="Permalink to &quot;è¯‘ï¼šä½¿ç”¨ç°ä»£çš„ Node.js æ„å»ºç®€å•çš„CLIå·¥å…·&quot;">â€‹</a></h1><blockquote><p>åŸæ–‡åœ°å€ï¼š <a href="https://evertpot.com/node-changelog-cli-tool/" target="_blank" rel="noreferrer">https://evertpot.com/node-changelog-cli-tool/</a><br>ä½œè€…ï¼š <a href="https://evertpot.com/" target="_blank" rel="noreferrer">Evert Pot</a><br>å‘å¸ƒæ—¶é—´ï¼š2023-02-13</p></blockquote><p><strong>åªä½¿ç”¨ Node.js çš„æ ‡å‡†åº“ï¼Œä¸å®‰è£…ä»»ä½•å¤–éƒ¨ä¾èµ–ï¼Œå†™ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ã€‚</strong></p><h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to &quot;å‰è¨€&quot;">â€‹</a></h2><p>ä½œè€…æ˜¯å¤šä¸ªå¼€æºé¡¹ç›®çš„ç»´æŠ¤è€…ï¼Œé•¿ä¹…ä»¥æ¥éƒ½æ˜¯æ‰‹åŠ¨ç»´æŠ¤é¡¹ç›®çš„å˜æ›´æ—¥å¿—ï¼ˆ<code>changelog</code>ï¼‰ã€‚</p><p>ä¸‹é¢æ˜¯é¡¹ç›® <a href="https://github.com/curveball/a12n-server/" target="_blank" rel="noreferrer">a12n-server</a> çš„å˜æ›´æ—¥å¿—ç¤ºä¾‹ï¼š</p><div class="language-md vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">md</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">0.22.0 (2022-09-27)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;--shiki-light-font-weight:bold;--shiki-dark-font-weight:bold;">-------------------</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Warning note for upgraders. This release has a database migration on the</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\`oauth2_tokens\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> table. For most users this is the largest table, some</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">downtime may be expected while the server runs its migrations.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> #425: Using a </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\`client_secret\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> is now supported with </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\`authorization_code\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  and it&#39;s read from either the request body or HTTP Basic Authorization</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  header.</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> The service now keeps track when issuing access tokens, whether those tokens</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  have used a </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\`client_secret\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> or not, which </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\`grant_type\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> was used to issue them</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  and what scopes were requested. This work is done to better support OAuth2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  scopes in the future, and eventually OpenID Connect.</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Fixed broken &#39;principal uri&#39; in introspection endpoint response.</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OAuth2 service is almost entirely rewritten.</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> The number of tokens issued is now displayed on the home page.</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Large numbers are now abbreviated with </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\`K\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> and </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\`M\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> #426: Updated to Curveball 0.20.</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> #427: Typescript types for the database schema are now auto-generated with</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  \`mysql-types-generator\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span></code></pre></div><p>å†…å®¹ä½¿ç”¨<code>markdown</code>ç¼–å†™çš„ã€‚ä½ å¯èƒ½ä¼šæƒ³ï¼šGitä¸æ˜¯æœ‰ <code>commit</code> æ—¥å¿—å—ï¼Ÿä¸ºä»€ä¹ˆè¦è´¹åŠ›æ‰‹å†™è¿™ä¸ªå‘¢ï¼Ÿ</p><p>åŸå› æ˜¯å®ƒä»¬çš„å—ä¼—ä¸ä¸€æ ·ã€‚æˆ‘å¸Œæœ›è®©ç”¨æˆ·å…³æ³¨åˆ°ç›¸å¯¹é‡è¦çš„å˜æ›´äº‹é¡¹ï¼Œå¹¶åŒæ—¶æ³¨æ„åˆ°å˜åŒ–å¯¹ç”¨æˆ·å¸¦æ¥çš„å½±å“ã€‚</p><p>æˆ‘è§‰å¾—å†™ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·æ¥åšè¿™äº›äº‹ä¼šæ›´æ–¹ä¾¿ï¼Œç»´æŠ¤å¤šä¸ªé¡¹ç›®ï¼ˆå¦‚æ­¤å¤šçš„å˜æ›´ï¼‰ä¹Ÿæ›´å®¹æ˜“ä¸€äº›ã€‚æ‰€ä»¥ï¼Œ<a href="https://github.com/evert/changelog-tool" target="_blank" rel="noreferrer">æˆ‘å°±åšäº† changelog-tool</a>ï¼å¦‚æœä½ æƒ³çŸ¥é“è¿™èƒŒåæ¶‰åŠäº†å“ªäº›æŠ€æœ¯é€‰æ‹©ï¼Œè¯·æ¥ç€å¾€ä¸‹é˜…è¯»ã€‚</p><h2 id="ç›®æ ‡-ç‰¹è‰²" tabindex="-1">ç›®æ ‡&amp;ç‰¹è‰² <a class="header-anchor" href="#ç›®æ ‡-ç‰¹è‰²" aria-label="Permalink to &quot;ç›®æ ‡&amp;ç‰¹è‰²&quot;">â€‹</a></h2><p>å·¥å…·å·²æ”¯æŒçš„åŠŸèƒ½ï¼š</p><ul><li>é‡æ–°æ ¼å¼åŒ–æ—¥å¿—ï¼ˆæœ‰ç‚¹åƒç¾åŒ–ï¼‰ï¼ˆ <code>changelog format</code> ï¼‰;</li><li>é€šè¿‡å‘½ä»¤è¡Œæ·»åŠ ä¸€è¡Œæ—¥å¿—ï¼ˆ <code>changelog add --minor -m &quot;New feature&quot;</code> ï¼‰;</li><li>è‡ªåŠ¨è®¾ç½®å‘å¸ƒæ—¥æœŸï¼ˆ <code>changelog release</code> ï¼‰;</li><li>å°†ç‰¹å®šç‰ˆæœ¬çš„æ—¥å¿—å¯¼å…¥æ ‡å‡†è¾“å‡ºï¼Œä»¥ä¾¿å…¶ä»–å·¥å…·å¯ä»¥ä½¿ç”¨ï¼ˆä¾‹å¦‚ä¸GitHubå‘å¸ƒé›†æˆï¼‰ã€‚</li></ul><p>æˆ‘è¿˜æœ‰ä¸€äº›éåŠŸèƒ½æ€§çš„éœ€æ±‚ï¼š</p><ul><li>ä½¿ç”¨æœ€æ–°çš„ <code>Node.js</code> ç‰¹æ€§;</li><li>ä½¿ç”¨æœ€æ–°çš„ <code>JavaScript</code> æ ‡å‡†å’Œç‰¹æ€§ï¼ˆESMï¼‰;</li><li>é¿å…éå¿…è¦çš„å¤–éƒ¨ä¾èµ–ï¼›</li><li>ä½ç»´æŠ¤æˆæœ¬ã€‚</li></ul><p>æƒ³ç«‹å³æ‰¾åˆ°è¿™ä¸ªå·¥å…·å—ï¼Ÿå®ƒæ˜¯å¼€æºçš„ï¼Œä½ åªéœ€è®¿é—® <a href="https://github.com/evert/changelog-tool" target="_blank" rel="noreferrer">Github</a>ã€‚</p><h2 id="åŸç†è§£æ" tabindex="-1">åŸç†è§£æ <a class="header-anchor" href="#åŸç†è§£æ" aria-label="Permalink to &quot;åŸç†è§£æ&quot;">â€‹</a></h2><h3 id="esm-typescript-esm" tabindex="-1">ESM &amp; Typescript ESM <a class="header-anchor" href="#esm-typescript-esm" aria-label="Permalink to &quot;ESM &amp; Typescript ESM&quot;">â€‹</a></h3><p><code>ESM</code> æ¨¡å—ç°åœ¨ä½¿ç”¨èµ·æ¥å·²ç»éå¸¸ä¸æ»‘äº†ã€‚è¿™æ˜¯ä¹ æƒ¯ä¸Šçš„ä¸€ä¸ªå°æ”¹å˜ï¼Œä½†æˆ‘ä¸€èˆ¬å»ºè®®æ˜¯å°†æ–‡ä»¶ä¿å­˜ä¸º <code>.mjs</code> æ¥ä½¿ç”¨ <code>ESM</code>ã€‚</p><p>ä¸‹é¢æ˜¯ <code>parse.mjs</code> çš„å‰å‡ è¡Œä»£ç ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { readFile } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Changelog, VersionLog } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./changelog.mjs&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {string}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> filename</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@returns</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {Promise&lt;Changelog&gt;}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> parseFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">filename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(filename, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;utf-8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>CommonJS -&gt; ESM çš„è¿‡æ¸¡å¹¶éæ²¡æœ‰ç—›è‹¦ï¼Œä½†å¯¹äºåƒè¿™æ ·çš„æ–°é¡¹ç›®æ¥è¯´ï¼Œå®ƒæ˜¯éå¸¸ç†æƒ³çš„é€‰æ‹©ã€‚ï¼ˆé¡¶å±‚ <code>await</code> ğŸ‰ï¼‰</p><p>æˆ‘è¿˜é€‰æ‹©ä¸ä½¿ç”¨ <code>Typescript</code> ç¼–å†™ä»£ç ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä½¿ç”¨ <code>JSDoc</code> æ³¨é‡Šï¼ˆä¸Šé¢æ˜¯ <code>@param</code> å’Œ <code>@returns</code> æ³¨é‡Šï¼‰ã€‚</p><p>å½“ç„¶ä¸æ˜¯æ¯ä¸ªäººéƒ½çŸ¥é“ä¸å†™ <code>.ts</code> æ–‡ä»¶ä¹Ÿå¯è·å¾—å’Œ <code>Typescript</code> ä¸€æ ·çš„ä½“éªŒã€‚ Typescript ä¹Ÿå¯ä»¥ä¸¥æ ¼åœ°æ£€æŸ¥ <code>Javascript</code> æ–‡ä»¶ã€‚</p><p>è¿™æ ·åšçš„å¥½å¤„æ˜¯é¡¹ç›®ä¸éœ€è¦æ„å»ºæ­¥éª¤äº†ã€‚ç”šè‡³åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¸éœ€è¦ç”¨åˆ° <code>Typescript</code>ï¼Œé™ä½äº†ä¸Šæ‰‹é—¨æ§›ã€‚</p><p>è¿™æ˜¯æˆ‘çš„ç®€åŒ–åçš„ <code>tsconfig.json</code> é…ç½®æ–‡ä»¶ï¼š</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;compilerOptions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;target&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;es2022&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;module&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;esnext&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;rootDir&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;allowJs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;checkJs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;moduleResolution&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;node&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;noEmit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;strict&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;useUnknownInCatchVariables&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šä¿¡æ¯ï¼Œ<code>Typescript</code> æ–‡æ¡£æœ‰ä¸€ä¸ªé¡µé¢è¯¦ç»†ä»‹ç»äº†<a href="https://www.typescriptlang.org/docs/handbook/jsdoc-supported-types.html" target="_blank" rel="noreferrer">æ”¯æŒçš„ JSDoc æ³¨é‡Š</a>ã€‚</p><h3 id="å‘½ä»¤è¡Œå‚æ•°è§£æ" tabindex="-1">å‘½ä»¤è¡Œå‚æ•°è§£æ <a class="header-anchor" href="#å‘½ä»¤è¡Œå‚æ•°è§£æ" aria-label="Permalink to &quot;å‘½ä»¤è¡Œå‚æ•°è§£æ&quot;">â€‹</a></h3><p>CLI å·¥å…·éœ€è¦æ”¯æŒè§£æå‘½ä»¤è¡Œé€‰é¡¹å‚æ•°(option)ã€‚ä» Node 18.3ï¼ˆå‘åç§»æ¤åˆ°äº† Node 16.17ï¼‰å¼€å§‹ï¼ŒNode å†…ç½®äº†ä¸€ä¸ªå‚æ•°è§£æçš„æ–¹æ³•ã€‚</p><p>ä¸‹é¢æ˜¯ä»£ç ç¤ºä¾‹ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { parseArgs } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:util&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">positionals</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">values</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> parseArgs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  options: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    help: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;boolean&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      short: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;h&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      default: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    all: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;boolean&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      default: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    message: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;string&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      short: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;m&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    patch: { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;boolean&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    minor: { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;boolean&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    major: { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;boolean&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  allowPositionals: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>è¿™æ®µé…ç½®ä»£ç æ·»åŠ äº†è¯¸å¦‚ <code>--major</code> è¿™äº›å‚æ•°çš„è§£ææ”¯æŒï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨ <code>--message &quot;hello!&quot;</code> æŒ‡å®šæ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>-m &quot;Hi&quot;</code> ç®€å†™çš„æ–¹å¼æ›¿ä»£ã€‚</p><p>å®ƒèƒ½å®Œæˆæ‰€æœ‰å·¥ä½œå—ï¼Ÿä¸ï¼åœ¨ä¸€äº›å¤æ‚çš„å·¥å…·ä¸­ï¼Œè¿˜ä¼šç”¨åˆ°å½©è‰²æ‰“å°ï¼Œè‡ªåŠ¨åˆ›å»ºå¸®åŠ©ä¿¡æ¯ç­‰ï¼Œä½†è¿™æ ·å°±éœ€è¦å¼•å…¥è®¸å¤šé¢å¤–çš„ç¬¬ä¸‰æ–¹ä¾èµ–ã€‚</p><p>å°±æˆ‘è€Œè¨€ï¼Œå·²ç»å¤Ÿç”¨äº†ã€‚</p><p>å¯ä»¥æŸ¥çœ‹ <a href="https://nodejs.org/api/util.html#utilparseargsconfig" target="_blank" rel="noreferrer">Node.js å¯¹åº”æ–‡æ¡£</a>äº†è§£æ›´è¯¦ç»†çš„å†…å®¹ã€‚</p><h3 id="æµ‹è¯•" tabindex="-1">æµ‹è¯• <a class="header-anchor" href="#æµ‹è¯•" aria-label="Permalink to &quot;æµ‹è¯•&quot;">â€‹</a></h3><p>å¤§å¤šæ•°äººå¯èƒ½ä¼šä½¿ç”¨ <code>Jest</code> æˆ– <code>Mocha</code> ä½œä¸ºæµ‹è¯•æ¡†æ¶ï¼Œä½†ä» Node 18ï¼ˆä¹Ÿå‘åç§»æ¤åˆ° 16ï¼‰å¼€å§‹ï¼ŒNode å†…ç½®äº†è¿è¡Œæµ‹è¯•ç”¨ä¾‹çš„èƒ½åŠ›ã€‚</p><p>å®ƒçš„APIç±»ä¼¼äº <code>Mocha</code> å’Œ <code>Jest</code> ï¼ŒåŒ…å« <code>it</code> ã€ <code>test</code> ã€ <code>describe</code> ã€ <code>before</code> ç­‰å…³é”®å­—ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå•ä¾§çš„ç¤ºä¾‹ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// @ts-check</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> assert </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:assert&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { test } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:test&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { parse } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;../parse.mjs&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Parsing changelog metadata&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> input</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`Time for a change</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">=========</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">0.2.0 (????-??-??)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">------------------</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">* Implemented the &#39;list&#39; command.</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">* Added testing framework.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">0.1.0 (2023-02-08)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">------------------</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">* Implemented the &#39;help&#39; and &#39;init&#39; commands.</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">*</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(input)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  assert.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">equal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Time for a change&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, result.title)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  assert.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">equal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, result.versions.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  assert.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">equal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, result.versions[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].date)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  assert.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">equal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;0.2.0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, result.versions[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].version)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  assert.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">equal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2023-02-08&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, result.versions[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].date)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  assert.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">equal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;0.1.0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, result.versions[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].version)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>è¦æ‰§è¡Œæµ‹è¯•ï¼Œåªéœ€è¿è¡Œ <code>node --test</code> æŒ‡ä»¤å³å¯ã€‚æ— éœ€é¢å¤–é…ç½®ï¼Œå®ƒå°†è‡ªåŠ¨æ‰«æéµå¾ªè§„èŒƒçš„ç›®å½•å’Œå•æµ‹æ–‡ä»¶ã€‚</p><p>Node 18 æµ‹è¯•è¾“å‡ºæœ‰ç‚¹ç®€é™‹ï¼Œå®ƒæ˜¯ <code>TAP</code> æ ¼å¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>TAP version 13</span></span>
<span class="line"><span># Subtest: /home/evert/src/changelog-tool/test/parse.mjs</span></span>
<span class="line"><span>    # Subtest: Parsing changelog metadata</span></span>
<span class="line"><span>    ok 1 - Parsing changelog metadata</span></span>
<span class="line"><span>      ---</span></span>
<span class="line"><span>      duration_ms: 1.713409</span></span>
<span class="line"><span>      ...</span></span>
<span class="line"><span>    # Subtest: Parsing changelog entries</span></span>
<span class="line"><span>    ok 2 - Parsing changelog entries</span></span>
<span class="line"><span>      ---</span></span>
<span class="line"><span>      duration_ms: 0.2595</span></span>
<span class="line"><span>      ...</span></span>
<span class="line"><span>    # Subtest: Preface and postface</span></span>
<span class="line"><span>    ok 3 - Preface and postface</span></span>
<span class="line"><span>      ---</span></span>
<span class="line"><span>      duration_ms: 0.193591</span></span>
<span class="line"><span>      ...</span></span>
<span class="line"><span>    1..3</span></span>
<span class="line"><span>ok 1 - /home/evert/src/changelog-tool/test/parse.mjs</span></span>
<span class="line"><span>  ---</span></span>
<span class="line"><span>  duration_ms: 70.901055</span></span>
<span class="line"><span>  ...</span></span>
<span class="line"><span>1..1</span></span>
<span class="line"><span># tests 1</span></span>
<span class="line"><span># pass 1</span></span>
<span class="line"><span># fail 0</span></span>
<span class="line"><span># cancelled 0</span></span>
<span class="line"><span># skipped 0</span></span>
<span class="line"><span># todo 0</span></span>
<span class="line"><span># duration_ms 81.481441</span></span></code></pre></div><p>å¦ç™½è¯´ï¼Œç”¨äº†è¿™ä¸ªä¹‹åæˆ‘ä¸ç¡®å®šæ˜¯å¦è¿˜ä¼šç»§ç»­å†ä½¿ç”¨ <code>Mocha</code>ã€‚æ¯•ç«Ÿæˆ‘å·²ç»ç”¨äº†åå¤šå¹´äº†ï¼Œè¿˜æ˜¯æœ‰è®¸å¤šä¸é”™çš„åŠŸèƒ½ï¼Œæˆ‘è®¤ä¸ºé™¤äº† Node å·²ç»æ”¯æŒçš„å¤– <code>Mocha</code> é‡Œè¿˜æœ‰ä¸€äº›æˆ‘éœ€è¦çš„åŠŸèƒ½ã€‚</p><p>ä¸€äº›é“¾æ¥:</p><ul><li><a href="https://nodejs.org/api/test.html" target="_blank" rel="noreferrer">node:test package</a>;</li><li><a href="https://nodejs.org/api/assert.html" target="_blank" rel="noreferrer">node:assert package</a>;</li><li><a href="https://nodejs.org/api/test.html#mocking" target="_blank" rel="noreferrer">Mocking in node</a>.</li></ul><h3 id="å¸¦æ³¨é‡Šçš„-package-json" tabindex="-1">å¸¦æ³¨é‡Šçš„ package.json <a class="header-anchor" href="#å¸¦æ³¨é‡Šçš„-package-json" aria-label="Permalink to &quot;å¸¦æ³¨é‡Šçš„ package.json&quot;">â€‹</a></h3><p>æˆ‘æƒ³ä»¥æˆ‘é…ç½®çš„ <code>package.json</code> æ¥ç»“æŸè¿™ç¯‡æ–‡ç« ï¼Œè¿™æ ·ä½ å°±å¯ä»¥çœ‹åˆ°å‰é¢å†…å®¹æ˜¯å¦‚ä½•è”ç³»åˆ°ä¸€èµ·çš„ã€‚ï¼ˆå¦‚æœ npm æ”¯æŒ JSON5ï¼Œâ€‹â€‹è¿™æ ·æˆ‘å°±å¯ä»¥å°†æˆ‘çš„æ³¨é‡Šä¿ç•™åœ¨åŒ…ä¸­ ğŸ˜­ï¼‰ã€‚</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åŒ…çš„åç§°</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;changelog-tool&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åŒ…çš„ç‰ˆæœ¬å·</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0.5.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // è¿™å°†æ˜¾ç¤ºåœ¨NPMæœç´¢ç»“æœä¸­</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;A CLI tool for manipulating changelogs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // è¿™å‘Šè¯‰Nodeè¿™æ˜¯ä¸€ä¸ªESMåŒ…</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å½“ç„¶ä¸æ˜¯ä¸¥æ ¼éœ€è¦çš„ï¼Œå¦‚æœæˆ‘ä»¬åœ¨æ¯ä¸ªåœ°æ–¹éƒ½æ˜¯ä½¿ç”¨ .mjs</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;module&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¦‚æœéœ€è¦åœ¨ç¼–ç çš„æ—¶å€™ä½¿ç”¨æ­¤åŒ…ä¸­çš„æ–¹æ³•ï¼ˆä¸æ˜¯ CLI ä¸­ï¼‰ï¼Œåˆ™éœ€è¦åœ¨è¿™é‡ŒæŒ‡å®šå¯¼å‡ºçš„æ¨¡å—å…¥å£æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;index.mjs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è¿è¡Œæµ‹è¯•ç”¨ä¾‹</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;node --test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æˆ‘å–œæ¬¢è®© Typescript åœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼Œä»¥ä¾¿æœ‰ä»»ä½•é—®é¢˜å³æ—¶çš„è­¦å‘Šæˆ‘</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;watch&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tsc --watch&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ–¹ä¾¿æ›´å¥½çš„åœ¨ npmjs.org ä¸Šå‘ç°æ­¤åŒ…</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;keywords&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;changelog&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;markdown&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä½œè€…ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;author&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Evert Pot (https://evertpot.com/)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åšä»»ä½•ä½ æƒ³åšçš„äº‹ï¼ˆMITåè®®åŸºæœ¬æ²¡æœ‰çº¦æŸï¼‰</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;license&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MIT&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;engine&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è­¦å‘Šå°šæœªå‡çº§çš„ç”¨æˆ·</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;node&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&gt;16&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;bin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å½“äººä»¬å®‰è£…è¿™ä¸ªåŒ…æ—¶ï¼Œå¯ä»¥é€šè¿‡ \`npx changelog\` æ‰§è¡Œã€‚</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å¦‚æœå…¨å±€å®‰è£…äº†è¿™ä¸ªåŒ…ï¼Œå°±ä¼šæœ‰ä¸€ä¸ª \`changelog\` å‘½ä»¤</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;changelog&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./cli.mjs&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;devDependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å”¯ä¸€çš„ 2 ä¸ªä¾èµ–é¡¹ã€‚å¦‚æœä½ æƒ³ï¼Ÿç”šè‡³ä¸éœ€è¦è¿™äº›åŒ…</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@types/node&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^18.11.19&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;typescript&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^4.9.5&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to &quot;æ€»ç»“&quot;">â€‹</a></h2><p>æˆ‘å–œæ¬¢åˆ›é€ æ–°äº‹ç‰©å¹¶æ·±æ€ç†Ÿè™‘åœ°åšå‡ºæ¯ä¸€ä¸ªå†³å®šã€‚</p><p>ç»“æœæ˜¯æˆ‘æ›´æœ‰å¯èƒ½æœ€ç»ˆå¾—åˆ°ä¸€äº›ç®€çº¦ã€ç»´æŠ¤æˆæœ¬ä½çš„ä¸œè¥¿ï¼Œå¹¶ä¸”è®©æˆ‘å¯¹æ‰€ä½¿ç”¨çš„å·¥å…·æœ‰æ›´æ·±å…¥çš„ç†è§£ã€‚</p><p>æœªæ¥æˆ‘å¯èƒ½ä¼šå†æ¬¡åšå‡ºè¿™äº›é€‰æ‹©ã€‚Node çš„æµ‹è¯•å·¥å…·å¿«é€Ÿåˆç®€å•ï¼ŒESM ä¹Ÿéå¸¸Niceï¼Œè¿˜ä¸éœ€è¦å¼•å…¥æ„å»ºï¼Œå¯¹äºæˆ‘è¿™ç§è§„æ¨¡çš„é¡¹ç›®æ¥è¯´ï¼Œæ„Ÿè§‰éå¸¸åˆé€‚ã€‚</p><p><strong>æˆ‘å¸Œæœ›è¿™èƒ½é¼“åŠ±å°†æ¥çš„äººä»ç©ºç›®å½•æ¥å¼€å§‹ä»–ä»¬çš„ä¸‹ä¸€ä¸ªé¡¹ç›®ï¼Œè€Œä¸æ˜¯å¤åˆ¶å¤§å‹é¡¹ç›®æ¨¡æ¿ã€‚</strong></p><p><a href="https://github.com/evert/changelog-tool" target="_blank" rel="noreferrer">Github ä¸Šçš„ changelog-tool é¡¹ç›®</a>ã€‚</p><p><em>æœ€åä¸€å¥è¯ç¡®å®æŒºå€¼å¾—æ€è€ƒçš„ï¼Œç°åœ¨å¥½åƒæ— è®ºåšä»€ä¹ˆé¡¹ç›®ï¼Œéƒ½æƒ³å…ˆæ‰¾ä¸ªæ¨¡æ¿ç„¶åæ‰å¼€å§‹ğŸ¤”</em></p>`,57),t=[l];function e(h,k,r,E,d,o){return i(),a("div",null,t)}const y=s(p,[["render",e]]);export{c as __pageData,y as default};
