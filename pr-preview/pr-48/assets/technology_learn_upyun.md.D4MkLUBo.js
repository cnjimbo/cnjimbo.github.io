import{j as s,b as i,c as a,a7 as n}from"./chunks/framework.B0f4rbfy.js";const F=JSON.parse('{"title":"ä½¿ç”¨åˆæ‹äº‘æé€Ÿæ­å»ºå›¾åºŠ","description":"åˆ†äº«ä¸€ä¸‹åˆæ‹äº‘çš„ç®€å•ç”¨æ³•ï¼Œä»¥åŠä½¿ç”¨å®ƒæ­å»ºå›¾åºŠã€‚","frontmatter":{"description":"åˆ†äº«ä¸€ä¸‹åˆæ‹äº‘çš„ç®€å•ç”¨æ³•ï¼Œä»¥åŠä½¿ç”¨å®ƒæ­å»ºå›¾åºŠã€‚"},"headers":[],"relativePath":"technology/learn/upyun.md","filePath":"technology/learn/upyun.md","lastUpdated":1716803856000}'),h={name:"technology/learn/upyun.md"},t=n(`<h1 id="ä½¿ç”¨åˆæ‹äº‘æé€Ÿæ­å»ºå›¾åºŠ" tabindex="-1">ä½¿ç”¨åˆæ‹äº‘æé€Ÿæ­å»ºå›¾åºŠ <a class="header-anchor" href="#ä½¿ç”¨åˆæ‹äº‘æé€Ÿæ­å»ºå›¾åºŠ" aria-label="Permalink to &quot;ä½¿ç”¨åˆæ‹äº‘æé€Ÿæ­å»ºå›¾åºŠ&quot;">â€‹</a></h1><h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to &quot;å‰è¨€&quot;">â€‹</a></h2><p>æŸå¤©åœ¨ç¾¤é‡Œæ‘¸ ğŸŸ ï¼ŒèŠåˆ°äº†å›¾åºŠç›¸å…³çš„è¯é¢˜ï¼Œç¾¤å‹æ¨èäº† <a href="https://www.upyun.com/league" target="_blank" rel="noreferrer">åˆæ‹äº‘</a>ã€‚</p><p>è¯´æœ‰æ´»åŠ¨ï¼Œå¯ä»¥ç™½å«–å­˜å‚¨ï¼Œ<code>10G + 15Gï¼ˆHTTP/HTTPS æµé‡ï¼‰</code> ã€‚ç¬”è€…ä¹‹å‰ä¸€ç›´ç”¨çš„<a href="https://www.qiniu.com/prices/kodo" target="_blank" rel="noreferrer">ä¸ƒç‰›äº‘</a> <code>10G + 10Gï¼ˆå›æºæµé‡ï¼‰</code>ã€‚</p><table tabindex="0"><thead><tr><th style="text-align:center;">åˆæ‹äº‘</th><th style="text-align:center;">ä¸ƒç‰›äº‘</th></tr></thead><tbody><tr><td style="text-align:center;"><img src="https://img.cdn.sugarat.top/mdImg/sugar/96868081e49914aa6ab7ee142e064d56" alt="" loading="lazy"></td><td style="text-align:center;"><img src="https://img.cdn.sugarat.top/mdImg/sugar/4a1fb149f7dbcfa43af08f1354781d76" alt="" loading="lazy"></td></tr><tr><td style="text-align:center;">æ³¨å†Œé€1ä¸ªæœˆçš„ä»£é‡‘åˆ¸ + ç½‘ç«™æŒ‚æ¨å¹¿é€1å¹´ä»£é‡‘åˆ¸</td><td style="text-align:center;">æ³¨å†Œå³å¯é€æ¯æœˆéƒ½æœ‰</td></tr></tbody></table><p>ç¬”è€…å°±èŠ±äº†ç‚¹æ—¶é—´ç ”ç©¶äº†ä¸€ä¸‹åˆæ‹äº‘çš„ SDK å’Œå¯¹è±¡å­˜å‚¨ï¼Œèƒ½åŠ›ä¸Šå®Œå…¨å¯ä»¥å¹³æ›¿ä¸ƒç‰›äº‘ï¼Œäºæ˜¯å°±èŠ±äº†ä¸€ç‚¹æ—¶é—´ç»™<a href="https://imgbed.sugarat.top/" target="_blank" rel="noreferrer">å›¾åºŠåº”ç”¨</a>åŠ ä¸Šäº†åˆæ‹äº‘çš„æ”¯æŒã€‚</p><h2 id="æ•ˆæœ" tabindex="-1">æ•ˆæœ <a class="header-anchor" href="#æ•ˆæœ" aria-label="Permalink to &quot;æ•ˆæœ&quot;">â€‹</a></h2><p>å¤§å®¶å¯ä»¥è®¿é—® <a href="https://imgbed.sugarat.top/" target="_blank" rel="noreferrer">https://imgbed.sugarat.top/</a> ç›´æ¥ä½“éªŒï¼Œé»˜è®¤å·²é…ç½® åˆæ‹äº‘ å­˜å‚¨</p><p>ä¸‹é¢å°†ä»‹ç» åˆæ‹äº‘å¯¹è±¡å­˜å‚¨é…ç½®ï¼Œå…³é”®APIç”¨æ³•ï¼Œå¦‚ä½•æ¥å…¥ä¸Šè¿°å›¾åºŠã€‚</p><h2 id="å¯¹è±¡å­˜å‚¨æœåŠ¡åˆ›å»º" tabindex="-1">å¯¹è±¡å­˜å‚¨æœåŠ¡åˆ›å»º <a class="header-anchor" href="#å¯¹è±¡å­˜å‚¨æœåŠ¡åˆ›å»º" aria-label="Permalink to &quot;å¯¹è±¡å­˜å‚¨æœåŠ¡åˆ›å»º&quot;">â€‹</a></h2><p>è¿™é‡Œç›´æ¥çœç•¥è´¦å·æ³¨å†Œï¼Œå‚åŠ æ¨å¹¿æ´»åŠ¨ç­‰æ­¥éª¤ï¼Œç›´æ¥è¿›å…¥å¯¹è±¡å­˜å‚¨é…ç½®é¡µé¢ã€‚</p><p>è®¿é—®<a href="https://console.upyun.com/services/file/" target="_blank" rel="noreferrer">å¯¹è±¡å­˜å‚¨æ§åˆ¶å°</a>ï¼Œç‚¹å‡»åˆ›å»ºæœåŠ¡</p><p><img src="https://img.cdn.sugarat.top/mdImg/sugar/5c0388757ee62813255ea400b0a9907b" alt="" loading="lazy"></p><p>è¿™ä¸ª&quot;æœåŠ¡&quot;å’Œå…¶å®ƒå¹³å°çš„ <code>Bucket(æ¡¶)</code> ç±»ä¼¼ï¼Œå¯ä»¥ç†è§£ä¸ºå­˜å‚¨ç©ºé—´çš„æ¦‚å¿µã€‚</p><p>å¡«ä¸€ä¸‹æœåŠ¡åç§°ï¼ˆ<code>å…¨å¹³å°å”¯ä¸€</code>ï¼‰ï¼Œç»‘å®šè´¦å·å³å¯</p><p><img src="https://img.cdn.sugarat.top/mdImg/sugar/8358d7845041f2cfa1e9af3751eca150" alt="" loading="lazy"></p><p><strong>æœåŠ¡åˆ›å»ºå®Œï¼Œéœ€è¦çš„ä¸œè¥¿åŸºæœ¬éƒ½æœ‰äº†ï¼Œæ˜¯ä¸æ˜¯éå¸¸ç®€å•ï¼</strong></p><ul><li>æœåŠ¡åï¼šè‡ªå®šä¹‰</li><li>è´¦å·ï¼šè‡ªå®šä¹‰</li><li>å¯†ç ï¼šè‡ªåŠ¨ç”Ÿæˆ</li><li>åŸŸåï¼šæµ‹è¯•åŸŸå <code>serviceName.test.upcdn.net</code></li></ul><h2 id="api-ä½¿ç”¨" tabindex="-1">API ä½¿ç”¨ <a class="header-anchor" href="#api-ä½¿ç”¨" aria-label="Permalink to &quot;API ä½¿ç”¨&quot;">â€‹</a></h2><h3 id="token-ç”Ÿæˆ" tabindex="-1">token ç”Ÿæˆ <a class="header-anchor" href="#token-ç”Ÿæˆ" aria-label="Permalink to &quot;token ç”Ÿæˆ&quot;">â€‹</a></h3><p>è¿™é‡Œæ¨èä½¿ç”¨ token è®¤è¯ æ ¹æ®<a href="https://help.upyun.com/knowledge-base/object_storage_authorization/#token-e8aea4e8af81" target="_blank" rel="noreferrer">æ–‡æ¡£ï¼šè®¤è¯é‰´æƒ</a>å¯çŸ¥ç”Ÿæˆæ–¹å¼å¦‚ä¸‹ï¼š</p><p><img src="https://img.cdn.sugarat.top/mdImg/sugar/9018f184d07b38b69f53f7335aa7cd2e" alt="" loading="lazy"></p><p>çœ‹ä¸æ‡‚ï¼Ÿæ²¡å…³ç³» GPT å¯ä»¥å¸®ä½ ï¼Œç›´æ¥å¤åˆ¶ä¸¢ç»™å®ƒã€‚</p><p><img src="https://img.cdn.sugarat.top/mdImg/sugar/16cb9a0c8e480e61304a2366d3568878" alt="" loading="lazy"></p><p>è¿™ä¸ä»£ç å°±æ¥äº†ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€‚å½“ä¼˜åŒ–ä¸€ä¸‹ï¼Œä¸éœ€è¦ç”¨åˆ°ç¬¬ä¸‰æ–¹åº“<code>base64-js</code>ï¼Œç›´æ¥ä½¿ç”¨ Node.js çš„å†…ç½®æ¨¡å—<code>crypto</code> å³å¯ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> crypto </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;crypto&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * ç”Ÿæˆ upyun ä¸Šä¼ token</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {*}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> operator</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> è´¦å·</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {*}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> password</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> å¯†ç </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {*}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> method</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> æ–¹æ³•ï¼ˆPUTï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {*}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> uriPrefix</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> è¯·æ±‚å…¬å…±å‰ç¼€</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {*}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> date</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> è¿‡æœŸæ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@returns</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> ä¸Šä¼ å‡­è¯</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generateUpyunToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">operator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">method</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">uriPrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¯†ç çš„md5å€¼ï¼Œç§˜é’¥</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> secret</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> crypto.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createHash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;md5&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(password).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">digest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hex&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ„é€ ç”¨äºè®¡ç®—æ ¡éªŒå€¼çš„å­—ç¬¦ä¸²</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">method</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&amp;\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uriPrefix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&amp;\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">date</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä½¿ç”¨ hmac-sha1 ç®—æ³•ç”Ÿæˆtoken</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> token</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> crypto.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createHmac</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sha1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, secret) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨å¯†ç çš„MD5å€¼ä½œä¸ºç§˜é’¥</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è®¾ç½®ç”¨äºè®¡ç®—æ ¡éªŒå€¼çš„å­—ç¬¦ä¸²</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">digest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è®¡ç®—æ ¡éªŒå€¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;base64&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è½¬æ¢ä¸ºbase64 æ ¼å¼</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ç»„åˆæˆè¦æ±‚çš„æ ¼å¼</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`UPYUN \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">operator</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}:\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">token</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>ä»£ç éå¸¸ç®€æ´æ˜äº†ï¼Œä½¿ç”¨æ–¹å¼å¦‚ä¸‹</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> token</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generateUpyunToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;è´¦å·&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;å¯†ç &#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;PUT&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;æœåŠ¡å/èµ„æºå…¬å…±å‰ç¼€è·¯å¾„&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æœåŠ¡å + å…¬å…±èµ„æºå‰ç¼€è·¯å¾„æ„æˆ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 60</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 60</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 24</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 90</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // è®¡ç®—è¿‡æœŸæ—¶é—´ 90å¤©åçš„æ—¥æœŸ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>ç†è®ºä¸Šè¿™ä¸ª token ä¹Ÿå¯ä»¥åœ¨å‰ç«¯ç”Ÿæˆï¼Œè°ƒç”¨å’Œåç«¯ä¸€è‡´çš„ç®—æ³•å³å¯ã€‚</p><h3 id="å‰ç«¯ä¸Šä¼ " tabindex="-1">å‰ç«¯ä¸Šä¼  <a class="header-anchor" href="#å‰ç«¯ä¸Šä¼ " aria-label="Permalink to &quot;å‰ç«¯ä¸Šä¼ &quot;">â€‹</a></h3><p>â‘  å®‰è£… upyun sdk</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upyun</span></span></code></pre></div><p>â‘¡ ä¸Šä¼ ç¤ºä¾‹</p><p>æ ¹æ®æ–‡æ¡£ï¼Œå¯ä»¥çœ‹åˆ°å®¢æˆ·ç«¯ä¸Šä¼ éœ€è¦çš„å‚æ•°ã€‚</p><p><img src="https://img.cdn.sugarat.top/mdImg/sugar/3c68a4e45d6be0789636eefc9e8fcbbd" alt="" loading="lazy"></p><ul><li><code>Authorization</code>ï¼šå‰é¢é€šè¿‡ç”Ÿæˆçš„token</li><li><code>X-Date</code>ï¼šè¯·æ±‚æ—¥æœŸæ—¶é—´ï¼ŒGMT æ ¼å¼å­—ç¬¦ä¸²</li><li><code>X-Upyun-Uri-Prefix</code>ï¼šæœåŠ¡å + èµ„æºå…¬å…±å‰ç¼€è·¯å¾„</li><li><code>X-Upyun-Expire</code>ï¼šè¿‡æœŸæ—¶é—´</li></ul><p>ä¸‹é¢å°±æ˜¯æ ¸å¿ƒçš„ä¸Šä¼ æ–¹æ³•ã€‚</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> upyun </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;upyun&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> service</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> upyun.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Service</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;æœåŠ¡å&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> client</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> upyun.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Client</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(service, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;Authorization&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;å‰é¢é€šè¿‡ç”Ÿæˆçš„token&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;X-Date&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toUTCString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;X-Upyun-Uri-Prefix&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;æœåŠ¡å/èµ„æºå…¬å…±å‰ç¼€è·¯å¾„&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;X-Upyun-Expire&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: date, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å‰é¢ç”Ÿæˆ Token æ—¶çš„ date å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> sourceKey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;èµ„æºå…¬å…±å‰ç¼€è·¯å¾„/èµ„æºå&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // &#39;test/imgs/abc.png&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è°ƒç”¨ä¸Šä¼ </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">client.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">putFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sourceKey, file) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¿”å›å€¼ Promise&lt;boolean&gt;</span></span></code></pre></div><p>â‘¢ æ–¹æ³•å°è£…</p><p>æˆ‘ä»¬å¯ä»¥ç®€å•å°è£…ä¸€ä¸‹ï¼Œæ–¹ä¾¿è°ƒç”¨</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UPYunConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   * æœåŠ¡å</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  serviceName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   * ä¸Šä¼ å‡­è¯</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  token</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   * èµ„æºå…¬å…±å‰ç¼€</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  prefix</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   * è¿‡æœŸæ—¶é—´ new Date().getTime() + 1000 * 60 * 60 * 24 * 90</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  date</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   * åŸŸåï¼ˆç”¨äºæ‹¼æ¥æœ€åçš„è®¿é—®é“¾æ¥ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  domain</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   * æœ€åçš„èµ„æºåï¼Œå»ºè®®ä½¿ç”¨ uuid æˆ–è€…æ–‡ä»¶çš„ MD5</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  filename</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> uploadFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ops</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UPYunConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">serviceName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">token</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">domain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">filename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ops</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> service</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> upyun.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Service</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(serviceName)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> client</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> upyun.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Client</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(service, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;Authorization&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: token,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;X-Date&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toUTCString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;X-Upyun-Uri-Prefix&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">serviceName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}/\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">prefix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;X-Upyun-Expire&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: date,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">prefix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}/\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">filename</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> isSuccess</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> client.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">putFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key, file)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // è¿”å›æœ€åå¯ä»¥ç”¨äºè®¿é—®çš„é“¾æ¥</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isSuccess </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">domain</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}/\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ä¸Šä¼ å¤±è´¥&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="æ¥å…¥çº¯é™æ€å›¾åºŠ" tabindex="-1">æ¥å…¥çº¯é™æ€å›¾åºŠ <a class="header-anchor" href="#æ¥å…¥çº¯é™æ€å›¾åºŠ" aria-label="Permalink to &quot;æ¥å…¥çº¯é™æ€å›¾åºŠ&quot;">â€‹</a></h2><p>ä¸Šè¿°é€»è¾‘æˆ‘éƒ½å°è£…åœ¨äº†è‡ªå·±çš„å›¾åºŠåº”ç”¨ä¸­ï¼š<a href="https://github.com/ATQQ/image-bed-qiniu/tree/master/packages/client#-%E5%9F%BA%E4%BA%8E-oss%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8%E5%BA%93-%E5%9B%BE%E5%BA%8A-" target="_blank" rel="noreferrer">GitHub: image-bed-qiniu</a></p><p>åªéœ€è¦åœ¨ <a href="https://github.com/ATQQ/image-bed-qiniu/tree/master/packages/cli" target="_blank" rel="noreferrer">cli</a> ç›®å½•ä¸‹ï¼Œä¿®æ”¹ <a href="https://github.com/ATQQ/image-bed-qiniu/blob/master/packages/cli/.env" target="_blank" rel="noreferrer">.env</a> é…ç½®æ–‡ä»¶</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆæ‹äº‘ç›¸å…³é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UPYUN_OPERATOR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">operator</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UPYUN_PASSWORD</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">password</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UPYUN_BUCKET</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">service-name</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UPYUN_DOMAIN</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http://service-name.test.upcdn.net</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UPYUN_PREFIX</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">image</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UPYUN_SCOPE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">default</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># tokenæœ‰æ•ˆæœŸï¼Œé»˜è®¤3ä¸ªæœˆï¼Œå•ä½ç§’ï¼Œä½ å¯ä»¥è‡ªè¡Œè®¾ç½®ï¼ˆ60*60*24*30ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># UPYUN_EXPIRES=2592000</span></span></code></pre></div><p>æ‰§è¡Œ <code>node upyun-token.js</code> å³å¯ç”Ÿæˆéœ€è¦çš„ tokenã€‚</p><p>å°†å…¶ç²˜è´´é…ç½®åˆ° <a href="https://imgbed.sugarat.top/" target="_blank" rel="noreferrer">çº¿ä¸Šçš„å›¾åºŠåº”ç”¨</a>ï¼Œæˆ–è€…è‡ªå·±éƒ¨ç½²çš„å‡å¯ <a href="https://github.com/ATQQ/image-bed-qiniu/tree/master/packages/client#%E8%BF%90%E8%A1%8C%E9%A1%B9%E7%9B%AE" target="_blank" rel="noreferrer">image-bed-qiniu:client</a></p><p><img src="https://img.cdn.sugarat.top/mdImg/sugar/9b11917ab2a09e1bec11e8272f0f4f2c" alt="" loading="lazy"></p><h2 id="å…¶å®ƒ" tabindex="-1">å…¶å®ƒ <a class="header-anchor" href="#å…¶å®ƒ" aria-label="Permalink to &quot;å…¶å®ƒ&quot;">â€‹</a></h2><p>çº¿ä¸Šä½¿ç”¨ï¼Œæ¨è ç»‘å®šè‡ªå®šä¹‰åŸŸå å’Œ å¼€å¯HTTPS æ”¯æŒã€‚</p><p>è¿™ä¸¤ä¸ªç›´æ¥åœ¨å¹³å°é‡Œæ ¹æ®æŒ‡å¼•æ“ä½œå³å¯ï¼Œæ­¥éª¤ä¹Ÿå¾ˆç®€å•ã€‚</p><h2 id="æœ€å" tabindex="-1">æœ€å <a class="header-anchor" href="#æœ€å" aria-label="Permalink to &quot;æœ€å&quot;">â€‹</a></h2><p>åç»­å‡†å¤‡æä¾›ä¸€ä¸ªå›¾åºŠçš„ Docker é•œåƒï¼Œè¿™æ ·éƒ¨ç½²èµ·æ¥ä¹Ÿæ›´åŠ æ–¹ä¾¿ã€‚</p><p>å¤§å®¶æœ‰å…¶å®ƒå¯ç™½å«–çš„å›¾åºŠä¹Ÿå¯æ¨èæ¨èä¸€ä¸‹ã€‚</p>`,55),p=[t];function k(l,e,r,d,E,g){return i(),a("div",null,p)}const c=s(h,[["render",k]]);export{F as __pageData,c as default};
